# Contributor: Jan Stępień <jstepien@users.sourceforge.net>

pkgname=nunit
pkgver=2.5.10
pkgrel=1
pkgdesc="Unit-testing framework for all .NET languages."
arch=('any')
license=('custom')
url="http://www.nunit.com"
depends=('mono')
_branch=2.5
_build=11092
source=(nunit.sh
	http://launchpad.net/nunitv2/$_branch/$pkgver/+download/NUnit-$pkgver.$_build.zip)
md5sums=('7bf17d38092de3f5bcd5fd96dbef0c62'
	'8ea9a359d08d1b6e8ed908a54b352f8b')

build() {
	mkdir -p $startdir/pkg/usr/{bin/,share/{doc/$pkgname/{files/,img/},licenses/$pkgname/}} \
	|| return 1
	mkdir -p $startdir/pkg/usr/lib/$pkgname/{framework,lib,tests} || return 1
	install -m755 nunit.sh $startdir/pkg/usr/bin/nunit || return 1
	cd "$startdir/src/NUnit-$pkgver.$_build" || return 1
	install -m644 bin/net-2.0/*.{conf,bat,exe,config,nunit,dll,html} \
	$startdir/pkg/usr/lib/$pkgname || return 1
	install -m644 bin/net-2.0/framework/* \
	$startdir/pkg/usr/lib/$pkgname/framework || return 1
	install -m644 bin/net-2.0/lib/* $startdir/pkg/usr/lib/$pkgname/lib || return 1
	install -m644 bin/net-2.0/tests/* $startdir/pkg/usr/lib/$pkgname/tests || return 1
	install -m644 license.txt $startdir/pkg/usr/share/licenses/$pkgname/ || return 1
	install -m644 doc/*.{js,ico,css,html} $startdir/pkg/usr/share/doc/$pkgname/ || return 1
	install -m644 doc/files/* $startdir/pkg/usr/share/doc/$pkgname/files || return 1
	install -m644 doc/img/* $startdir/pkg/usr/share/doc/$pkgname/img || return 1
}
